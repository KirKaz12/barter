"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){var n="img/svg_sprite.html",o=1;if(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return!0;var i,a,s="localStorage"in t&&null!==t.localStorage,r=function(){e.body.insertAdjacentHTML("afterbegin",a)},c=function(){e.body?r():e.addEventListener("DOMContentLoaded",r)};if(s&&localStorage.getItem("inlineSVGrev")==o&&(a=localStorage.getItem("inlineSVGdata")))return c(),!0;try{i=new XMLHttpRequest,i.open("GET",n),i.onload=function(){i.status>=200&&i.status<400&&(a=i.responseText,c(),s&&(localStorage.setItem("inlineSVGdata",a),localStorage.setItem("inlineSVGrev",o)))},i.send()}catch(t){}}(window,document);var SelectFX=window.SelectFX;window.addEventListener("load",function(){var t=document.querySelectorAll("select.cs-select");for(var e in t)"object"===_typeof(t[e])&&new SelectFX(t[e])},!1),$(document).ready(function(){$("[data-item='pagination']").on("click",function(t){$(this).addClass("pagination-link_active"),$(this).siblings("[data-item='pagination']").removeClass("pagination-link_active")});var t=$("[data-burger-btn]"),e=$("[data-burger-menu]"),n=$("[data-close-btn]"),o=$(".expand-btn");t.on("click",function(){$(e).addClass("page-header__menu-wrapper_visible"),$("body").css("overflowY","hidden")}),n.on("click",function(){$(e).removeClass("page-header__menu-wrapper_visible"),$("body").css("overflowY","visible")}),o.on("mouseenter",function(){$("#icon-fullscreen").addClass("fullscreen_hover")}),o.on("mouseleave",function(){$("#icon-fullscreen").removeClass("fullscreen_hover")});var i=$(".item-card__good-main-photo img").attr("src");!function(){$.magnificPopup&&$(".expand-btn").magnificPopup({items:{src:i},type:"image"})}();var a=function(t,e,n){this._mainItem=$("."+t),this._galleryList=$("."+e),this._galleryImages=$("."+n),this._sourcesArray=[],this._count=0};a.prototype._createSources=function(){var t=this;this._galleryImages.each(function(){t._sourcesArray.push($(this).attr("src"))})},a.prototype._toggleSmallImage=function(){var t=this;this._galleryList.on("click",function(e){if("IMG"===e.target.nodeName){var n=$(e.target).attr("src");t._mainItem.css("opacity",0),t._mainItem.attr("src",n),t._mainSource=t._mainItem.attr("src"),$(e.target).addClass("item-card__good-small-photos_active"),$(e.target).siblings("img").each(function(t,e){$(e).removeClass("item-card__good-small-photos_active")}),t._popUp(t._mainSource),t._mainItem.animate({opacity:"1"},500)}})},a.prototype._popUp=function(t){$.magnificPopup&&$(".expand-btn").magnificPopup({items:{src:t},type:"image"})},a.prototype._offEventsOnMobiles=function(){var t=this;window.innerWidth<768&&(this._galleryList.off("click"),this._mainItem.off("click")),$(window).on("resize",function(){window.innerWidth<768?(t._galleryList.off("click"),t._mainItem.off("click")):t._toggleSmallImage()})},a.prototype.init=function(){this._createSources(),this._toggleSmallImage()},new a("item-card__good-main-photo img","item-card__good-small-photos","item-card__good-small-photos img").init(),function(t,e,n){$(t).on("mouseenter",function(){$(n).addClass(e)}),$(t).on("mouseleave",function(){$(n).removeClass(e)})}("[data-close-form]","close_hover","#icon-close"),function(t){$(t).on("click",function(){$(this).parents("[data-pop-up]").each(function(t,e){$(e).hide("slow")})})}("[data-close-form]");var s=$("[data-confirm-input]");!function(t){t.on("keyup",function(){var t=($(this).attr("data-confirm-input"),$(this).siblings("[data-confirm-btn]")),e=this.value;e.length>0&&!isNaN(e)?t.addClass("post-content__post-user-confirm-btn_active"):t.removeClass("post-content__post-user-confirm-btn_active")})}(s);var r=$("[data-expand-link]"),c=$("[data-expand-list]");r.on("click",function(t){t.preventDefault(),c.each(function(t,e){$(e).toggleClass("services__list_visible")});var e=$(this).text();-1!==e.indexOf("Показать все")?(console.log(e),$(this).text("Свернуть")):$(this).text("Показать все")});var l=$("[data-trigger='pop-up_link']"),m=$("[data-trigger='pop-up_list']");$("body").on("click",function(t){var e=$(t.target).parents("[data-trigger='pop-up_link']");$(t.target).is(l)||0!==e.length?(t.preventDefault(),"none"===m.css("display")?m.show():m.hide()):m.hide()})});